# ============================================================
# diff-fuse configuration
# Copy to `.env` and adjust as needed.
# ============================================================

# ------------------------------------------------------------
# App
# ------------------------------------------------------------
DIFF_FUSE_APP_NAME=diff-fuse
DIFF_FUSE_ENVIRONMENT=dev

# ------------------------------------------------------------
# Server (uvicorn)
# ------------------------------------------------------------
DIFF_FUSE_HOST=127.0.0.1
DIFF_FUSE_PORT=8000
DIFF_FUSE_LOG_LEVEL=info
DIFF_FUSE_RELOAD=true

# ------------------------------------------------------------
# CORS
# ------------------------------------------------------------
# Comma-separated list is supported by pydantic-settings
DIFF_FUSE_CORS_ALLOW_ORIGINS=["http://localhost:5173"]

# ------------------------------------------------------------
# Session backend
# ------------------------------------------------------------
# Options: memory | redis
DIFF_FUSE_SESSION_BACKEND=memory
DIFF_FUSE_SESSION_TTL_SECONDS=3600

# Redis (used only when backend=redis)
DIFF_FUSE_REDIS_URL=redis://localhost:6379/0
DIFF_FUSE_REDIS_KEY_PREFIX=diff-fuse:session:

# ------------------------------------------------------------
# Defensive limits
# ------------------------------------------------------------
DIFF_FUSE_MAX_DOCUMENTS_PER_SESSION=10
DIFF_FUSE_MAX_DOCUMENT_CHARS=1000000
DIFF_FUSE_MAX_TOTAL_CHARS_PER_SESSION=3000000
DIFF_FUSE_MAX_JSON_DEPTH=60
DIFF_FUSE_MAX_DIFF_NODES=200000